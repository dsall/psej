{"ast":null,"code":"import _regeneratorRuntime from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/djibril/Desktop/psej-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/djibril/Desktop/psej-web/src/Components/Auth/Auth.js\";\nimport React from \"react\";\nimport \"./Auth.css\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard } from 'mdbreact';\nimport { Redirect } from 'react-router-dom';\n\nvar axios = require(\"axios\");\n\nvar Auth =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Auth, _React$Component);\n\n  function Auth(props) {\n    var _this;\n\n    _classCallCheck(this, Auth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Auth).call(this, props));\n    _this.Login =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"trying to log in\");\n              _context.next = 3;\n              return axios.post(\"http://admin.psej.xyz/auth/login\", {\n                username: _this.state.email,\n                password: _this.state.password\n              }, {\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              response = _context.sent;\n              console.log(response.data);\n\n              if (response.data.Authenticated) {\n                localStorage.setItem('usertoken', response.data.token);\n                console.log(localStorage.getItem('usertoken') + \"hello\");\n\n                _this.setState({\n                  goHome: true\n                });\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.Register =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.post(\"http://admin.psej.xyz/auth/register\", {\n                username: _this.state.email,\n                password: _this.state.password,\n                fullname: _this.state.name,\n                phone: _this.state.phone\n              });\n\n            case 2:\n              response = _context2.sent;\n              console.log(response.data.success);\n\n              if (!response.data.success) {\n                alert(response.data.message);\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      register: false,\n      rppassword: \"\",\n      name: \"\",\n      phone: \"\",\n      goHome: false\n    };\n    return _this;\n  }\n\n  _createClass(Auth, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.goHome) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(MDBCard, {\n        style: {\n          width: \"30rem\"\n        },\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"10\",\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://senedico.com/wp-content/uploads/2017/09/appel-a-candidatures-pour-le-recrutement-de-la-seconde-cohorte-du-psej.png\",\n        alt: \"psej\",\n        className: \"mx-auto d-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, !this.state.register ? \"LOGIN\" : \"REGISTER\"), React.createElement(\"label\", {\n        className: \"grey-text \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"email\",\n        id: \"defaultFormLoginEmailEx\",\n        className: \"form-control\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            email: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"defaultFormLoginPasswordEx\",\n        className: \"form-control\",\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            password: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), !this.state.register ? React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          fontSize: 15,\n          color: \"blue\",\n          marginVertical: 10\n        },\n        onClick: function onClick() {\n          _this2.setState({\n            register: !_this2.state.register\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Click here to create an account\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Repeat password\"), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"repeatpassword\",\n        className: \"form-control\",\n        value: this.state.rppassword,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            rppassword: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Full Name\"), React.createElement(\"input\", {\n        type: \"name\",\n        id: \"name\",\n        className: \"form-control\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Phone Number\"), React.createElement(\"input\", {\n        type: \"name\",\n        id: \"phone\",\n        className: \"form-control\",\n        value: this.state.phone,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            phone: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          fontSize: 15,\n          color: \"blue\",\n          marginVertical: 10\n        },\n        onClick: function onClick() {\n          _this2.setState({\n            register: !_this2.state.register\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Click here to login\"))), React.createElement(\"div\", {\n        className: \"text-center mt-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(MDBBtn, {\n        color: \"indigo\",\n        onClick: !this.state.register ? this.Login : this.Register,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, !this.state.register ? \"LOGIN\" : \"REGISTER\"))))))));\n    }\n  }]);\n\n  return Auth;\n}(React.Component);\n\nexport default Auth;","map":{"version":3,"sources":["/home/djibril/Desktop/psej-web/src/Components/Auth/Auth.js"],"names":["React","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBCard","Redirect","axios","require","Auth","props","Login","console","log","post","username","state","email","password","headers","response","data","Authenticated","localStorage","setItem","token","getItem","setState","goHome","Register","fullname","name","phone","success","alert","message","register","rppassword","width","e","target","value","fontSize","color","marginVertical","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Auth.css\"\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard} from 'mdbreact';\nimport { Redirect } from 'react-router-dom'\nconst axios = require(\"axios\")\n\nclass Auth extends React.Component  {\nconstructor(props){\n  super(props);\n  this.state = {\n    email: \"\",\n    password: \"\", \n    register: false,\n    rppassword: \"\",\n    name: \"\",\n    phone: \"\", \n    goHome: false\n  }\n}\n\nLogin = async () => {\n  console.log(\"trying to log in\")\n const response = await axios.post(\"http://admin.psej.xyz/auth/login\", {\n   username: this.state.email,\n   password: this.state.password\n } ,{\n  headers: {\n      'Content-Type': 'application/json'\n  }\n})\n console.log(response.data)\n if(response.data.Authenticated){\n localStorage.setItem('usertoken', response.data.token);\n console.log(localStorage.getItem('usertoken')+\"hello\")\n this.setState({goHome: true})\n\n}\n\n}\nRegister = async () => {\n  const response = await axios.post(\"http://admin.psej.xyz/auth/register\", {\n    username: this.state.email,\n    password: this.state.password,\n    fullname: this.state.name,\n    phone: this.state.phone\n  })\n  console.log(response.data.success)\n  if(!response.data.success){\n    alert(response.data.message)\n  }\n}\n\n  render() {\n    if(this.state.goHome){\n      return (<Redirect to='/' />)\n    }\n  return (\n    <div className=\"Container\">\n    <MDBContainer className=\"mx-auto\">\n        <MDBCard style={{width: \"30rem\"}} className=\"mx-auto\">\n        <MDBRow > \n          <MDBCol md=\"10\" className=\"mx-auto\" >\n          <form >\n              <img src=\"https://senedico.com/wp-content/uploads/2017/09/appel-a-candidatures-pour-le-recrutement-de-la-seconde-cohorte-du-psej.png\" alt=\"psej\" className=\"mx-auto d-block\"/>\n              \n              <p className=\"\">{!this.state.register ? \"LOGIN\" : \"REGISTER\"}</p>\n              <label className=\"grey-text \">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                id=\"defaultFormLoginEmailEx\"\n                className=\"form-control\"\n                value={this.state.email}\n                onChange={(e) => this.setState({email: e.target.value})}\n              />\n              <br />\n              <label className=\"grey-text\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                id=\"defaultFormLoginPasswordEx\"\n                className=\"form-control\"\n                value={this.state.password}\n                onChange={(e) => this.setState({password: e.target.value})}\n              />\n              <br />\n               {!this.state.register \n                ? \n                <a><h1 style={{ fontSize: 15, color: \"blue\", marginVertical: 10}}\n                onClick={() => {this.setState({register: !this.state.register})}}\n                >Click here to create an account</h1></a>\n                : \n                <div>\n                <label className=\"grey-text\">\n                Repeat password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"repeatpassword\"\n                  className=\"form-control\"\n                  value={this.state.rppassword}\n                  onChange={(e) => this.setState({rppassword: e.target.value})}\n                />\n                <br />\n                <label className=\"grey-text\">\n                Full Name\n                </label>\n                <input\n                type=\"name\"\n                id=\"name\"\n                className=\"form-control\"\n                value={this.state.name}\n                onChange={(e) => this.setState({name: e.target.value})}\n                />\n                <br />\n                <label className=\"grey-text\">\n                Phone Number\n                </label>\n                <input\n                type=\"name\"\n                id=\"phone\"\n                className=\"form-control\"\n                value={this.state.phone}\n                onChange={(e) => this.setState({phone: e.target.value})}\n                />\n                <br />\n                <a><h1 style={{ fontSize: 15, color: \"blue\", marginVertical: 10}}\n                onClick={() => {this.setState({register: !this.state.register})}}\n                >Click here to login</h1></a>\n                </div>}\n              <div className=\"text-center mt-3 mb-3\">\n                <MDBBtn color=\"indigo\"  onClick={!this.state.register? this.Login: this.Register}>{!this.state.register ? \"LOGIN\" : \"REGISTER\"}</MDBBtn>\n              </div>\n            </form>\n          </MDBCol>\n        </MDBRow>\n        </MDBCard>\n    </MDBContainer>\n    </div>\n  );\n  }\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}